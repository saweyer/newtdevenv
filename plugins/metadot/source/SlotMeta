constant kScript0 := "func()\nbegin\nend";constant kScriptUnit := "func(unit)\nbegin\nend";constant kScriptStroke := "func(stroke)\nbegin\nend";constant kScriptCmd := "func(cmd)\nbegin\nend";constant kScriptArgs := "/*^0*/func(^1)\nbegin\nend";constant kInherited0 := "func()\nbegin\n\tinherited:?^0();\nend";constant kInheritedUnit := "func(unit)\nbegin\n\tinherited:?^0(unit);\nend";constant kInheritedCmd := "func(cmd)\nbegin\n\tinherited:?^0(cmd);\nend";constant kInheritedArg := "func(arg)\nbegin\n\tinherited:?^0(arg);\nend";constant kInheritedArgs := "func(^1)\nbegin\n\tinherited:?^0(^1);\nend";constant kKeyScript := "func(char,flags)\nbegin\nend";	//return true if key completely handledconstant kNil := "nil";constant kTrue := "true";constant kNilSym := "'nil";constant kEArray := "[]";constant kEString := "\"\"";constant kBounds := "SetBounds(0,0,0,0)";/*boolean picker ["nil", "true"];picker for keyboard flagsfor date/time specs*/DefineGlobalConstant('iSForm, 	{item: "viewSetupFormScript", 	value: kInherited0});DefineGlobalConstant('iSDone, 	{item: "viewSetupDoneScript", 	value: kInherited0});DefineGlobalConstant('iQuit, 	{item: "viewQuitScript", 		value: kInherited0});DefineGlobalConstant('iClick, 	{item: "viewClickScript",		value: kInheritedUnit});DefineGlobalConstant('iStroke, 	{item: "viewStrokeScript",		value: kInheritedUnit});DefineGlobalConstant('iGest, 	{item: "viewGestureScript",		value: kInheritedArgs,	args: "unit,gestureID"});DefineGlobalConstant('iHilite, 	{item: "viewHiliteScript", 		value: kInheritedArgs, args: "hilite"});DefineGlobalConstant('iPickA, 	{item: "pickActionScript", 		value: kInheritedCmd});DefineGlobalConstant('iPickC, 	{item: "pickCancelledScript", 	value: kInherited0});DefineGlobalConstant('iChange, 	{item: "viewChangedScript", 	value: kInheritedArgs, args: "slot,view"});DefineGlobalConstant('iChild, 	{item: "viewSetupChildrenScript", value: kInherited0});DefineGlobalConstant('iIdle, 	{item: "viewIdleScript", 		value: kInherited0});DefineGlobalConstant('iDraw, 	{item: "viewDrawScript", 		value: kInherited0});DefineGlobalConstant('iKeyD, 	{item: "viewKeyDownScript", 	value: kInheritedArgs, args: "char,flags"});DefineGlobalConstant('iOver, 	{item: "viewOverviewScript", 	value: kInherited0});DefineGlobalConstant('iScrollU, {item: "viewScrollUpScript", 	value: kInherited0});DefineGlobalConstant('iScrollD, {item: "viewScrollDownScript", 	value: kInherited0});DefineGlobalConstant('iBut, 	{item: "buttonClickScript", 	value: kInherited0});DefineGlobalConstant('iTSetup, 	{item: "textSetup", 			value: kInherited0});DefineGlobalConstant('iPSetup, 	{item: "pickerSetup", 			value: kInherited0});DefineGlobalConstant('iTChange, {item: "textChanged", 			value: kInherited0});DefineGlobalConstant('iPopit, 	{item: "Popit", 				value: kInheritedArg});DefineGlobalConstant('kSoundList, [	{item: "ROM_alarmWakeup", 	value:  "@4,//^0"},	{item: "ROM_bootSound", 	value: "@16,//^0"},	{item: "ROM_click", 		value: "@51,//^0"},	{item: "ROM_crumple", 		value: "@62,//^0"},	{item: "ROM_drawerClose", 	value: "@76,//^0"},	{item: "ROM_drawerOpen", 	value: "@77,//^0"},	{item: "ROM_flip", 			value: "@85,//^0"},	{item: "ROM_funBeep", 		value: "@102,//^0"},	{item: "ROM_hiliteSound", 	value: "@110,//^0"},	{item: "ROM_plinkBeep", 	value: "@150,//^0"},	{item: "ROM_plunk",			value: "@313,//^0"},	{item: "ROM_poof",			value: "@314,//^0"},	{item: "ROM_simpleBeep", 	value: "@262,//^0"},	{item: "ROM_wakeupBeep", 	value: "@269,//^0"},]);// add 2.x sounds??// slot-specific pickers/editorsDefineGlobalConstant('kSlotMeta, {viewClass: [	"clEditView", "clGaugeView", "clKeyboardView",	"clMonthView", "clOutline", "clParagraphView", "clPickView", 	"clPictureView", "clPolygonView", "clRemoteView", "clView", 	],proto: if kBuild1x	then [		{item: "_A", value: ["protoActionButton", "protoApp",]},		{item: "_B", value: ["protoBorder"]},		{item: "_C", value: ["protoCheckBox", "protoCloseBox", "protoCoverPageFormat"]},		{item: "_D", value: ["protoDateExpando", "protoDivider", "protoDrawer"]},		{item: "_E", value: ["protoEndpoint", "protoExpandoShell"]},		{item: "_F", value: [			"protoFilingButton", "protoFloater",			"protoFloatNGo", "protoFolderTab"]},		{item: "_G", value: ["protoGauge", "protoGlance"]},		{item: "_I", value: ["protoInputLine"]},		{item: "_K", value: ["protoKeyboard", "protoKeypad"]},		{item: "_L", value: [			"protoLabeledBatteryGauge", "protoLabelInputLine",			"protoLabelPicker", "protoLargeCloseBox"]},		{item: "_P", value: [			"protoPhoneExpando", "protoPicker", "protoPictIndexer",			"protoPictRadioButton", "protoPictureButton", "protoPrintFormat"]},		{item: "_R", value: [			"protoRadioButton", "protoRadioCluster", "protoRCheckbox",			"protoRecToggle", "protoRoll", "protoRollBrowser", "protoRollItem"]},		{item: "_S", value: [			"protoSetClock", "protoSlider", "protoStaticText",			"protoStatus", "protoStatusBar"]},		{item: "_T", value: [			"protoTable", "protoTableDef", "protoTableEntry",			"protoTextButton", "protoTextExpando", "protoTextList", "protoTitle"]},		]	else [		{item: "_A", value: [			"protoActionButton", // 1.x			"protoAddressPicker", "protoAlphaKeyboard", "protoAMPMCluster", "protoAnalogTimePopup",			"protoApp", 		// 1.x			"protoAZTabs", "protoAZVertTabs",			'pickSeparator,			"newtAboutView", "newtActionButton", "newtApplication", "newtAZTabs",			]},		{item: "_B", value: [			"protoBasicEndpoint", "protoBlindEntryLine",			"protoBorder", // 1.x			]},		{item: "_C", value: [			"protoCheckBox",		// 1.x			"protoCitiesTextPicker", "protoClockFolderTab",			"protoCloseBox", 		// 1.x			"protoCountryPicker", "protoCountryTextPicker",			{item: "(protoCoverPageFormat)", value: "protoPrintFormat"},			'pickSeparator,			"newtCheckBox", "newtCityFilter", "newtClockFolderTab", "newtCountryFilter",			]},		{item: "_D", value: [			"protoDateDurationTextPicker",			{item: "(protoDateExpando)", value: "protoDateExpando"},			"protoDateIntervalPopup", "protoDateNTimePopup",			"protoDateNTimeTextPicker", "protoDatePicker", "protoDatePopup",			"protoDateTextPicker", "protoDigitalClock",			"protoDivider", 	// 1.x			"protoDragger", "protoDragNGo",			"protoDrawer",		// 1.x			"protoDurationTextPicker",			'pickSeparator,			"newtDateFilter", "newtDateNTimeFilter",			]},		{item: "_E", value: [			"protoEmporiumPopup",			{item: "(protoEndpoint)", value: "protoEndpoint"},			{item: "(protoExpandoShell)", value: "protoExpandoShell"},			'pickSeparator,			"newtEditView", "newtEntryLockedIcon",			"newtEntryPageHeader", "newtEntryRollHeader", "newtEntryShowStationeryButton",			"newtEntryView", "newtEntryViewActionButton", "newtEntryViewFilingButton",			]},		{item: "_F", value: [			"protoFilingButton", "protoFloater", "protoFloatNGo",	// 1.x			{item: "(protoFolderTab)", value: "protoFolderTab"},			"protoFormatPicker", "protoFrameFormat", "protoFullRouteSlip",			'pickSeparator,			"newtFalseEntryView", "newtFilingButton", "newtFilter",			"newtFloatingBar", "newtFolderTab",			]},		{item: "_G", value: [			"protoGauge", 	// 1.x			"protoGeneralPopup",			"protoGlance",	// 1.x			]},		{item: "_H", value: [			"protoHorizontal2DScroller", "protoHorizontalUpDownScroller",			]},		{item: "_I", value: [			"protoImageView", "protoInfoButton",			"protoInputLine",	// 1.x			'pickSeparator,			"newtInfoBox", "newtInfoButton", "newtIntegerFilter",			]},		{item: "_K", value: [			"protoKeyboard",	// 1.x			"protoKeyboardButton",			"protoKeypad",		// 1.x			]},		{item: "_L", value: [			"protoLabeledBatteryGauge", "protoLabelInputLine", // 1.x			"protoLabelPicker", "protoLargeCloseBox",	// 1.x			"protoLeftRightScroller", "protoListPicker",			"protoListView", "protoLocationPopup", "protoLongLatTextPicker",			'pickSeparator,			"newtLabelDateInputLine", "newtLabelInputLine",			"newtLabelNumInputLine", "newtLabelPhoneInputLine",			"newtLabelSimpleDateInputLine", "newtLabelTimeInputLine", "newtLayout",			]},		{item: "_M", value: [			"protoMapTextPicker", "protoMultiDatePopup",			]},		{item: "_N", value: [			"protoNameRefDataDef", "protoNewFolderTab", "protoNewSetClock",			"protoNumberPicker/*?*/", "protoNumericKeyboard",			'pickSeparator,			"newtNewStationeryButton",			"newtNRLabelDateInputLine", "newtNRLabelDateNTimeInputLine",			"newtNRLabelTimeInputLine", "newtNumberFilter", "newtNumView",			]},		{item: "_O", value: [			"protoOrientation", "protoOverview",			'pickSeparator,			"newtOverLayout",			]},		{item: "_P", value: [			"protoPasswordSlip", "protoPeopleDataDef", "protoPeoplePicker",			"protoPeoplePopup", "protoPersonaPopup",			{item: "(protoPhoneExpando)", value: "protoPhoneExpando"},			"protoPhonePad",			"protoPicker", "protoPictIndexer",	// 1.x			"protoPictRadioButton", "protoPictureButton",	// 1.x			"protoPopinPlace", "protoPopupButton", "protoPrefsRollItem", "protoPrinterChooserButton",			"protoPrintFormat", // 1.x			"protoProvincePicker",			'pickSeparator,			"newtPageLayout", "newtPhoneFilter", "newtPrefsView", "newtProtoLine",			]},		{item: "_R", value: [			"protoRadioButton", "protoRadioCluster", "protoRCheckbox",	// 1.x			"protoRecorderView/*2.1*/",			"protoRecToggle", 	// 1.x			"protoRepeatDateDurationTextPicker", "protoRepeatPicker",			"protoRepeatView", "protoRichInputLine", "protoRichLabelInputLine",			"protoRoll", "protoRollBrowser", "protoRollItem",	// 1.x			"protoRoutingFormat",			'pickSeparator,			"newtROEditView", "newtROLabelDateInputLine",			"newtROLabelInputLine", "newtROLabelNumInputLine", "newtROLabelTimeInputLine",			"newtRollEntryView", "newtRollLayout", "newtRolloverLayout",			"newtRollShowStationeryButton", "newtRONumView", "newtROTextDateView",			"newtROTextTimeView", "newtROTextView"			]},		{item: "_S", value: [			"protoSendButton", "protoSenderPopup",			"protoSetClock", "protoSlider", 	// 1.x			"protoSmallKeyboardButton", "protoSoundChannel", "protoSoundFrame",			"protoSoupOverView", "protoStatePicker",			"protoStaticText", "protoStatus", "protoStatusBar",	// 1.x			"protoStatusBarber", "protoStatusButton", "protoStatusCloseBox",			"protoStatusGauge", "protoStatusIcon", "protoStatusProgress",			"protoStatusTemplate", "protoStatusText", "protoStreamingEndpoint",			'pickSeparator,			"newtShowStationeryButton", "newtSimpleDateFilter", "newtSmartNameFilter",			"newtSmartNameView", "newtSoup", "newtStateFilter", "newtStationery",			"newtStationeryPopupButton", "newtStationeryView", "newtStatusBar", "newtStatusBarNoClose",			]},		{item: "_T", value: [			"protoTable", "protoTableDef", "protoTableEntry", "protoTextButton",	// 1.x			 {item: "(protoTextExpando)", value: "protoTextExpando"},			"protoTextList", 	// 1.x			"protoTextPicker", "protoTimeDeltaPopup",			"protoTimeDeltaTextPicker", "protoTimeIntervalPopup",			"protoTimePopup", "protoTimeTextPicker",			"protoTitle",	// 1.x			"protoTitleText", "protoTouchTonePad", "protoTransport",			"protoTransportHeader", "protoTransportPrefs",			"protoTXView/*2.1*/", "protoTXViewFinder/*2.1*/",			'pickSeparator,			"newtTextDateView", "newtTextFilter", "newtTextTimeView", "newtTextView",			"newtTimeFilter",			]},		{item: "_U", value: [			"protoUpDownScroller", "protoUSStatesTextPicker",			]},		{item: "_W", value: [			"protoWordInfo", "protoWordInterp", "protoWorldPicker",			]},		{item: "_Y", value: [			"protoYearPopup",			]},		],// ==========copyProtection: nil,		//specifies the type of copy protection for the view//declareSelf: "'base",		//Names a slot in the view that will point to the view itself//doCardRouting: "",		//Set to true to allow moving to/from card from the filing interfacehideSound: kSoundList,		//sound frame which is played when the view is hiddenscrollDownSound: kSoundList,//sound frame which is played when the view receives a viewScrollDownScript messagescrollUpSound: kSoundList,	//sound frame which is played when the view receives a viewScrollUpScript messageshowSound: kSoundList,		//sound frame which is played when the view is showntextFlags: nil,				//information about text in viewsviewBounds: [ //defines the bounding box of the view, or the location and size of the view	"RelBounds(0,0,0,0)",	kBounds,	"{left: 0, top: 0, right: 0, bottom: 0}",	],viewEffect: 	nil, 	//type of animation to use when the view is shown or hiddenviewFlags: 		nil,	//behavioral attributes of the viewviewFont: 		nil,	//font to use for drawing text in this viewviewFormat: 	nil,	//visual attributes of the viewviewJustify:	 nil,	//view alignment characteristicsviewTransferMode: nil,	//transfer mode used while drawing the view});// ==========kSlotMeta.copyProtection := [flags:	{item: "cpNoCopyProtection", 	value: cpNoCopyProtection, mask: 0xF},	{item: "cpNoCopies", 			value: cpNoCopies, mask: 0xF},	{item: "cpReadOnlyCopies", 		value: cpReadOnlyCopies, mask: 0xF},	{item: "cpOriginalOnlyCopies", 	value: cpOriginalOnlyCopies, mask: 0xF},	{item: "cpNewtonOnlyCopies", 	value: cpNewtonOnlyCopies, mask: 0xF},];// ==========kSlotMeta.textFlags :=if kBuild1x then [flags:	{item: "vWidthIsParentWidth",	value: vWidthIsParentWidth},	{item: "vNoSpaces",				value: vNoSpaces},]else [flags: 	{item: "vWidthIsParentWidth", 	value: vWidthIsParentWidth},	{item: "vNoSpaces", 			value: vNoSpaces},	{item: "vWidthGrowsWithText", 	value: vWidthGrowsWithText},	// 1 <<  2	{item: "vFixedTextStyle", 		value: vFixedTextStyle},		// 1 <<  3	{item: "vFixedInkTextStyle", 	value: vFixedInkTextStyle},		// 1 <<  4	{item: "vExpectingNumbers", 	value: vExpectingNumbers},		// 1 <<  9	{item: "vSingleKeystrokes",		value: vSingleKeystrokes},		// 1 << 10	{item: "vTakesCommandKeys",		value: vTakesCommandKeys},		// 1 << 14	{item: "vTakesAllKeys",			value: vTakesAllKeys},			// 1 << 15	{item: "vStandAloneBounds",		value: vStandAloneBounds},		// 1 << 11	{item: "vAlwaysTryKeyCommands",	value: vAlwaysTryKeyCommands}, 	// 1 << 12	{item: "vCallStandardScripts",	value: vCallStandardScripts}, 	// 1 << 13	{item: "vTakesNoKeys",			value: vTakesNoKeys},			// 1 << 16	{item: "kWorksInAllModals",		value: kWorksInAllModals},		// 1 <<  0	{item: "kWorksInAppModals",		value: kWorksInAppModals},		// 1 <<  1];// ==========constant kAllMask := 0x3FFFFFFF;kSlotMeta.viewFlags := [flags:{item: "vNoFlags", 			value: vNoFlags,		//        0; no flags attributes for this view	mask: kAllMask},{item: "vVisible", 			value: vVisible},		//        1;	1 <<  0 view is (initially) visible{item: "vReadOnly", 		value: vReadOnly},		//        2; 1 <<  1 view is readonly except can be scaled or distorted{item: "vApplication", 		value: vApplication},	//        4; 1 <<  2 view should receive scrolling & other high-level events{item: "vCalculateBounds", 	value:vCalculateBounds},//        8; 1 <<  3 view bounds not fixed (typically used by clParagraphView and clPolygonView inside a clEditView)//{item: "vNoKeys", 		value: vNoKeys},		//       16; 1 <<  4 not documented{item: "vClipping", 		value: vClipping},		//       32; 1 <<  5 contents clipped to bounds when drawn{item: "vFloating", 		value: vFloating},		//       64; 1 <<  6 floats above other views{item: "vWriteProtected", 	value: vWriteProtected},//      128; 1 <<  7 same as vReadOnly except flag propagates; no scaling, distortion//{item: "vSelected", 		value: vSelected},		// 33554432; 1 << 25 not documented//{item: "vClipboard", 		value: vClipboard},		// 67108864; 1 << 26 not documented{item: "vNoScripts", 		value: vNoScripts},		//134217728; 1 << 27 no high level system messages sent (typically to objects described for vCalculateBounds)'pickSeparator,// non-word recog options (also used by protoLabelInputLine.entryFlags){item: "vNothingAllowed",  	value: vNothingAllowed,	//        0; 0x00000000 no handwritten or keyboard input	mask: 65535 << 9},{item: "vClickable", 		value: vClickable},		//      512; 1 <<  9 send a viewClickScript message for each pen tap{item: "vStrokesAllowed", 	value: vStrokesAllowed},//     1024; 1 << 10 send viewStrokeScript message at end of each stroke (vClickable must also be set){item: "vGesturesAllowed", 	value:vGesturesAllowed},//     2048; 1 << 11 sends viewGestureScript for gestures such as scrub, hilite, tap, double, tap, caret, and line. requires vClickable{item: "vShapesAllowed", 	value: vShapesAllowed},	//    65536; 1 << 16 enables shape recognition. requires vClickable// word options{item: "vCharsAllowed", 	value: vCharsAllowed},	//     4096; 1 << 12 enables word recognition using dictionaries (main & user){item: "vLettersAllowed", 	value: vLettersAllowed},//    16384; 1 << 14 letter-by-letter recognition without dictionaries. can be used with vCharsAllowed or vCustomDictionaries.  does not allow numeric input so can't be used with vMathAllowed, vPhoneField, vNumbersAllowed, vDateField, vTimeField, or vAddressField{item: "vNameField", 		value: vNameField},		//  4194304; 1 << 22 enables word recog using Names dict as primary dict//{item: "vMathAllowed", 	value: vMathAllowed},	//   131072; 1 << 17 DON'T USE. recog math substrings (digits and operators). works best if not used in conjunction with other word recog options{item:"vCustomDictionaries",value:vCustomDictionaries},// 16777216; 1 << 24 enables recog using custom dict like company names or constrain to other built-in dict{item:"vPunctuationAllowed",value:vPunctuationAllowed},//    32768; 1 << 15 enables recog of punctuation marks in addition to other recog enabled. before a word: '"(-  after a word: '")-.,!?:;{item: "vCapsRequired", 	value: vCapsRequired},	//  8388608; 1 << 23 forces 1st char of each word to be capitalized in recognizer// lexical word options (can be used with all other options except vLettersAllowed){item: "vNumbersAllowed",	value: vNumbersAllowed},//     8192; 1 << 13 digits, $.+-{item: "vAddressField", 	value: vAddressField},	//  2097152; 1 << 21 words and numbers so addresses are recog{item: "vPhoneField", 		value: vPhoneField},	//   262144; 1 << 18 recog of phone numbers{item: "vDateField", 		value: vDateField},		//   524288; 1 << 19 recog of dates{item: "vTimeField", 		value: vTimeField},		//  1048576; 1 << 20 recog of times{item: "vSingleUnit", 		value: vSingleUnit},	//      256; 1 <<  8 disables recognition based on spatial cues, using more temporal cues (good for "complex stroke groups with lots of space" like phone numbers?)//{item: "vAnythingAllowed", 	value:vAnythingAllowed},// 33553920; 65535 << 9 actually controlled by user settings; however, probably shouldn't use Ñ better to make more specific];// ==========kSlotMeta.viewJustify := [flags:{item: "vjLeftH", 			value: vjLeftH,			// 0, left alignment(default)	mask: vjHMask},{item: "vjRightH", 			value: vjRightH,		// 1, right alignment	mask: vjHMask},{item: "vjCenterH", 		value: vjCenterH,		// 2, center alignment	mask: vjHMask},{item: "vjFullH", 			value: vjFullH,			// 3, stretches contents to fill entire view width	mask: vjHMask},'pickSeparator,{item: "vjTopV", 			value: vjTopV, 			//  0, 0*4 top alignment (default)	mask: vjVMask},{item: "vjCenterV", 		value: vjCenterV,		//  4, 1*4 center	mask: vjVMask},{item: "vjBottomV", 		value: vjBottomV,		//  8, 2*4 bottom	mask: vjVMask},{item: "vjFullV", 			value: vjFullV,			// 12, 3*4 stretches contents to fill entire view height	mask: vjVMask},'pickSeparator,{item: "noLineLimits", 		value: noLineLimits, 	// 0, 0*8388608 no limits, text wraps to next line (default)	mask: 3*oneLineOnly},{item: "oneLineOnly", 		value: oneLineOnly,		//  8388608, 1*8388608 single line of text, no wrapping	mask: 3*oneLineOnly},{item: "oneWordOnly", 		value: oneWordOnly,		// 16777216, 2*8388608 single word only	mask: 3*oneLineOnly},'pickSeparator,{item: "vjParentLeftH", 	value: vjParentLeftH, 	// 0, 0*16 left&right relative to parent's left (default)	mask: vjParentHMask},{item: "vjParentCenterH", 	value: vjParentCenterH,	// 16, 1*16 centered if left=0; right-left = width	mask: vjParentHMask},{item: "vjParentRightH", 	value: vjParentRightH,	// 32, 2*16 left&right relative to parent's right	mask: vjParentHMask},{item: "vjParentFullH", 	value: vjParentFullH,	// 48, 3*16 left&right are insets	mask: vjParentHMask},'pickSeparator,{item: "vjSiblingNoH", 		value: vjSiblingNoH,	// 0, 0*512 do not use sibling horiz justif (default)	mask: vjSiblingHMask},{item: "vjSiblingLeftH", 	value: vjSiblingLeftH,	// 2048, 4*512 left&right relative to sibling's left side	mask: vjSiblingHMask},{item: "vjSiblingCenterH", 	value: vjSiblingCenterH,//  512, 1*512 center if left=0; right-left=width	mask: vjSiblingHMask},{item: "vjSiblingRightH", 	value: vjSiblingRightH,	// 1024, 2*512 left&right relative to sibling's right	mask: vjSiblingHMask},{item: "vjSiblingFullH", 	value: vjSiblingFullH,	// 1536, 3*512 left&right are insets	mask: vjSiblingHMask},'pickSeparator,{item: "vjParentTopV", 		value: vjParentTopV, 	// 0, 0*64 top&bottom relative to parent's top (default)	mask: vjParentVMask},{item: "vjParentCenterV", 	value: vjParentCenterV,	//  64, 1*64 centered if top=0; bottom-top = height	mask: vjParentVMask},{item: "vjParentBottomV", 	value: vjParentBottomV,	// 128, 2*64 top&bottom relative to parent's bottom	mask: vjParentVMask},{item: "vjParentFullV", 	value: vjParentFullV,	// 192, 3*64 top&bottom are insets	mask: vjParentVMask},'pickSeparator,{item: "vjSiblingNoV",		value: vjSiblingNoV, 	// 0,	0*4096 do not use sibling vert justif (default)	mask: vjSiblingVMask},{item: "vjSiblingTopV",		value: vjSiblingTopV,	// 16384, 4*4096 top&bottom relative to sibling's top side	mask: vjSiblingVMask},{item: "vjSiblingCenterV", 	value: vjSiblingCenterV,// 4096, 1*4096 center if top=0; bottom-top = height	mask: vjSiblingVMask},{item: "vjSiblingBottomV", 	value: vjSiblingBottomV,// 8192, 2*4096 top&bottom relative to sibling's bottom	mask: vjSiblingVMask},{item: "vjSiblingFullV", 	value: vjSiblingFullV,	// 12288, 3*4096 top&bottom are insets	mask: vjSiblingVMask},'pickSeparator,{item: "vjChildrenLasso", 	value: vjChildrenLasso},// 1*32768,	// ???{item: "vjReflow", 			value: vjReflow},		// 1*65536,	// ???];if kBuild20then ArrayMunger(kSlotMeta.viewJustify, Length(kSlotMeta.viewJustify), 0, [//{item: "vjParentClip",	value: vjParentClip},	//      256;{item: "vjParentAnchored",	value:vjParentAnchored},//      256;'pickSeparator,{item: "vjNoRatio", 		value: vjNoRatio, 		//        0;	mask: 0xF << 26},{item: "vjLeftRatio", 		value: vjLeftRatio},	// 67108864;{item: "vjRightRatio", 		value: vjRightRatio},	//134217728;{item: "vjTopRatio",		value: vjTopRatio},		//268435456;{item: "vjBottomRatio",		value: vjBottomRatio},	//  2 << 28;], 0, nil);// ==========kSlotMeta.viewTransferMode := [flags:{item: "modeCopy",			value: modeCopy, 		// 0, source(black/white) -> dest(black/white)	mask: 0x7},{item: "modeOr",			value: modeOr,			// 1, source(black) -> dest(black)	mask: 0x7},{item: "modeXor",			value: modeXor,			// 2, source(black) -> dest(invert)	mask: 0x7},{item: "modeBic",			value: modeBic,			// 3, source(black) -> dest(erase)	mask: 0x7},{item: "modeNotCopy",		value: modeNotCopy,		// 4, source(black/white) -> dest(white/black) 	mask: 0x7},{item: "modeNotOr",			value: modeNotOr,		// 5, source(white) -> dest(black)	mask: 0x7},{item: "modeNotXor",		value: modeNotXor,		// 6, source(white) -> dest(invert)	mask: 0x7},{item: "modeNotBic",		value: modeNotBic,		// 7, source(white) -> dest(white)	mask: 0x7},];// ==========DefineGlobalConstant('kMakeNumItems, func(num)begin	local INT i;	local item;	local ARRAY items;	if isArray(num)	// num = [n1, n2,...]	then begin		items := Array(Length(num), nil);		foreach i,item in num		do items[i] := {item: SPrintObject(item), value: item};		end	else begin // num = len		items := Array(num, nil);		for i:=0 to num-1		do items[i] := {item: SPrintObject(i+1), value: i+1};		end;	SetClass(items, 'flags);end);DefineGlobalConstant('kNumItems, call kMakeNumItems with (32));// ==========kSlotMeta.viewFormat := [flags:// view FRAME INSET{item: "vfInset:",			value: kNumItems,		// vfInset*n (n = 0-3)  white space in pixels between view bounds & frame	mask: vfInsetMask, shift: vfInsetShift, offset: 0, length: 4},// view SHADOW STYLE{item: "vfShadow:",			value: kNumItems,		// vfShadow*n (n = 0-3)  thickness of shadow on right&bottom in pixels	mask: vfShadowMask, shift: vfShadowShift, offset: 0, length: 4},// view FRAME THICKNESS{item: "vfPen:",			value: kNumItems,		// vfPen*n (n= 0-15)  pen thickness in pixels	mask: vfPenMask, shift: vfPenShift, offset: 0, length: 16},// view FRAME ROUNDEDNESS{item: "vfRound:",			value: kNumItems,		// vfRound*n (n= 0-15)  corner radius in pixels	mask: vfRoundMask, shift: vfRoundShift, offset: 0, length: 16},'pickSeparator,// view FILL COLOR{item: "vfFill(none)",		value: 0,	mask: vfFillMask},{item: "vfWhite",			value: vfWhite,			// 1, fill view with white. vfFillWhite	mask: vfFillMask},{item: "vfLtGray",			value: vfLtGray,		// 2, fill view with light gray. vfFillLtGray	mask: vfFillMask},{item: "vfGray",			value: vfGray,			// 3, gray. vfFillGray	mask: vfFillMask},{item: "vfDkGray",			value: vfDkGray,		// 4, dark gray. vfFillDkGray	mask: vfFillMask},{item: "vfBlack",			value: vfBlack,			// 5, vfFillBlack. black	mask: vfFillMask},{item: "vfCustom",			value: vfCustom,		// 14, vfFillCustom use custom pattern in viewFillPattern slot	mask: vfFillMask},{item: "vfMatte",			value: vfMatte,			// 15,	mask: vfFillMask},'pickSeparator,// view FRAME COLOR{item: "vfFrame(none)",		value: 0,	mask: vfFrameMask},{item: "vfFrameWhite",		value: vfFrameWhite,	// 16, vfWhite*16  white frame	mask: vfFrameMask},{item: "vfFrameLtGray",		value: vfFrameLtGray,	// 32, vfLtGray*16 light gray frame	mask: vfFrameMask},{item: "vfFrameGray",		value: vfFrameGray,		// 48, vfGray*16   gray frame	mask: vfFrameMask},{item: "vfFrameDkGray",		value: vfFrameDkGray,	// 64, vfDkGray*16 dark gray frame	mask: vfFrameMask},{item: "vfFrameBlack",		value: vfFrameBlack,	// 80, vfBlack*16  black frame	mask: vfFrameMask},{item: "vfFrameDragger",	value: if kBuild20 then 208,	//208, platform wrong! vfFrameDragger. 2.x	mask: vfFrameMask},{item: "vfFrameCustom",		value: vfFrameCustom,	// 224, vfCustom*16 use custom pattern in viewFramePattern slot	mask: vfFrameMask},{item: "vfFrameMatte",		value: vfFrameMatte,	// 240, vfMatte*16  matte (thick gray with outer black border)	mask: vfFrameMask},'pickSeparator,// view LINE STYLE{item: "vfLines(none)",		value: 0,	mask: vfLinesMask},{item: "vfLinesWhite",		value: vfLinesWhite,	//  4096, vfWhite*4096  draw horizontal lines in white	mask: vfLinesMask},{item: "vfLinesLtGray",		value: vfLinesLtGray,	//  8192, vfLtGray*4096 draw widely dotted horizontal lines	mask: vfLinesMask},{item: "vfLinesGray",		value: vfLinesGray,		// 12288, vfGray*4096   draw dotted horizontal lines	mask: vfLinesMask},{item: "vfLinesDkGray",		value: vfLinesDkGray,	// 16384, vfDkGray*4096 draw dashed horizontal lines	mask: vfLinesMask},{item: "vfLinesBlack",		value: vfLinesBlack,	// 20480, vfBlack*4096  draw solid black horizontal lines	mask: vfLinesMask},{item: "vfLinesCustom",		value: 57344,			// ???, use custom pattern in viewLinePattern slot	mask: vfLinesMask},/*// view HILITE (undocumented?){item: "vfHiliteInvert",	value: vfHiliteInvert,	 // 0*1048576,	 mask: 7*1048576},{item: "vfHiliteBullet",	value: vfHiliteBullet},	// 2*1048576,{item: "vfHiliteTriangle",	value:vfHiliteTriangle},// 4*1048576,*/];if kBuild1xthen call kRemoveString with (kSlotMeta.viewFormat, ["vfFrameDragger"]);// ==========kSlotMeta.viewEffect := [flags:{item: "fxSteps:", 			value: kNumItems,			// 2097152; fxSteps*(n-1) (n= 1-15) steps animation should take	mask: fxStepsMask, shift: fxStepsShift, offset: 1, length: 16},{item: "fxStepTime:", 		value: kNumItems,			// 33554432; fxStepTime*n (n = 0-15)  number of ticks/step. (60 ticks/sec).	mask: fxStepTimeMask, shift: fxStepTimeShift, offset: 0, length: 16},{item: "fxColumns:", 		value: kNumItems,			//       1; fxColumns*(n-1) divide view into this number of columns	mask: fxColumnsMask, shift: fxColumnsShift, offset: 1, length: 32},{item: "fxRows:", 			value: kNumItems,			//      32; fxRows*(n-1)    divide view into this number of rows	mask: fxRowsMask, shift: fxRowsShift, offset: 1, length: 32},'pickSeparator,{item: "fxColAltHPhase",	value: fxColAltHPhase},		//    4096; if fxMoveH, then columns alternate direction (otherwise all move in same dir as 1st){item: "fxRowAltHPhase",	value: fxRowAltHPhase},		//   16384; if fxMoveH, then rows alternate left/right (otherwise, all move in same dir as 1st){item: "fxColAltVPhase",	value: fxColAltVPhase},		//    8192; if fxMoveV, then columns alternate direction (otherwise all move in same dir as 1st){item: "fxRowAltVPhase",	value: fxRowAltVPhase},		//   32768; if fxMoveV, then rows alternate up/down (otherwise, all move in same dir as 1st)'pickSeparator,{item: "fxMoveH(none)", 	value: 0, 					//   65536; animation includes horizontal movement	mask: fxLeft},//{item: "fxMoveH", 		value: fxMoveH},			//   65536; animation includes horizontal movement{item: "fxRight", 			value: fxRight,				//   65536; same as fxMoveH (but not fxHStartPhase)	mask: fxLeft},{item: "fxLeft", 			value: fxLeft,				//   66560; same as fxMoveH + fxHStartPhase	mask: fxLeft},//{item: "fxHStartPhase", 	value: fxHStartPhase},		//    1024; if fxMoveH, then first column moves left (otherwise right){item: "fxMoveV(none)", 	value: 0,					//  131072; animation includes vertical movement	mask: fxUp},//{item: "fxMoveV", 		value: fxMoveV},			//  131072; animation includes vertical movement{item: "fxDown", 			value: fxDown,				//  131072; same as fxMoveV (but not fxVStartPhase)	mask: fxUp},{item: "fxUp", 				value: fxUp,				//  133120; same as fxMoveV+ fxVStartPhase	mask: fxUp},//{item: "fxVStartPhase", 	value: fxVStartPhase},		//    2048; if fxMoveV, then first row moves up (otherwise down)'pickSeparator,{item: "fxRevealLine", 		value: fxRevealLine},		//  262144; line drawn at edge from which animation is being revealed{item: "fxWipe", 			value: fxWipe},				//  524288; view revealed rather than moved into place (like rolling a shade){item: "fxFromEdge", 		value: fxFromEdge},			// 1048576; animation begins at edge of screen rather than bounds of viewif kBuild20 then 'pickSolidSeparator else 'pickSeparator,// animation TYPE: ("macros"?){item: "fxVenetianBlindsEffect",				//  131296; fxRows*8+fxDown	value: fxVenetianBlindsEffect, mask: kAllMask, combo: true},{item: "fxDrawerEffect",						//  133120; fxUp 	value: fxDrawerEffect, mask: kAllMask, combo: true},		{item: "fxCheckerBoardEffect", 					//  155879; fxColumns*8+fxRows*8+fxColAltVPhase+fxRowAltHPhase+fxDown	value: fxCheckerBoardEffect, mask: kAllMask, combo: true},{item: "fxZoomVerticalEffect", 					//  165920; fxColumns*1+fxRows*2+fxUp+fxRowAltVPhase	value: fxZoomVerticalEffect, mask: kAllMask, combo: true},{item: "fxZoomCloseEffect", 					//  199713; fxColumns*2+fxRows*2+fxUp+fxLeft	value: fxZoomCloseEffect, mask: kAllMask, combo: true},{item: "fxZoomOpenEffect", 						//  236577; fxColumns*2+fxRows*2+fxUp+fxLeft+fxColAltHPhase+fxRowAltVPhase	value: fxZoomOpenEffect, mask: kAllMask, combo: true},{item: "fxPopDownEffect", 						//  393216; fxDown+fxRevealLine	value: fxPopDownEffect, mask: kAllMask, combo: true},{item: "fxBarnDoorCloseEffect", 				//  626689; fxColumns*2+fxColAltHPhase+fxRowAltVPhase+fxRight+fxWipe	value: fxBarnDoorCloseEffect, mask: kAllMask, combo: true},{item: "fxBarnDoorOpenEffect", 					//  627713; fxColumns*2+fxColAltHPhase+fxRowAltVPhase+fxLeft+fxWipe	value: fxBarnDoorOpenEffect, mask: kAllMask, combo: true},{item: "fxIrisCloseEffect", 					//  986145; fxColumns*2+fxRows*2+fxUp+fxLeft+fxRevealLine+fxWipe	value: fxIrisCloseEffect, mask: kAllMask, combo: true},{item: "fxIrisOpenEffect", 						// 1023009; fxColumns*2+fxRows*2+fxUp+fxLeft+fxColAltHPhase+fxRowAltVPhase+fxRevealLine+fxWipe	value: fxIrisOpenEffect, mask: kAllMask, combo: true},];// ==========kSlotMeta.viewFont := [flags:	// integer version{item: "System(0)", 		value: if kBuild20 then tsSystem else 0,	mask: tsFamilyMask},{item: "User/Fancy(1)",		value: tsFancy, 		mask: tsFamilyMask},{item: "Simple(2)",			value: tsSimple, 		mask: tsFamilyMask},{item: "Edit/Casual(3)", 	value: if kBuild20 then tsHWFont, mask: tsFamilyMask},'pickSeparator,{item: "Size:", value: call kMakeNumItems with ([9,10,12,14,18]),	mask: tsSizeMask, shift: tsSizeShift, offset: 0},'pickSeparator,{item: "tsPlain",			value: tsPlain, 		mask: tsFaceMask},	//0{item: "tsBold",			value: tsBold},								//0x00100000{item: "tsItalic",			value: tsItalic},							//0x00200000{item: "tsUnderline",		value: tsUnderline},						//0x00400000{item: "tsOutline",			value: tsOutline},							//0x00800000{item: "tsSuperScript",		value: tsSuperScript},						//0x08000000{item: "tsSubScript",		value: tsSubScript},						//0x10000000{item: "tsUndefinedFace",	value: tsUndefinedFace},					//0x20000000if kBuild20 then 'pickSolidSeparator else 'pickSeparator,{item: "simpleFont9",		value: simpleFont9,							//0x00002402	{family: 'geneva,...}	mask: kAllMask, combo: true},{item: "simpleFont10",		value: simpleFont10,						//0x00002802	mask: kAllMask, combo: true},{item: "simpleFont12",		value: simpleFont12,						//0x00003002	mask: kAllMask, combo: true},{item: "simpleFont18",		value: simpleFont18,						//0x00004802	mask: kAllMask, combo: true},{item: "userFont9",			value: userFont9,							//0x00002401	{family: 'newYork,...}	mask: kAllMask, combo: true},{item: "userFont10",		value: userFont10,							//0x00002801	mask: kAllMask, combo: true},{item: "userFont12",		value: userFont12,							//0x00003001	mask: kAllMask, combo: true},{item: "userFont18",		value: userFont18,							//0x00004801	mask: kAllMask, combo: true},];if kBuild20then ArrayMunger(kSlotMeta.viewFont, Length(kSlotMeta.viewFont), 0, [	{item: "editFont10",	value: editFont10,							// 0x00002803; {family:'handwriting, face:0, size:10}		mask: kAllMask, combo: true},	{item: "editFont12",	value: editFont12,							// 0x00003003; {family:'handwriting, face:0, size:12}		mask: kAllMask, combo: true},	{item: "editFont18",	value: editFont18,							// 0x00004803; {family:'handwriting, face:0, size:18}		mask: kAllMask, combo: true},	], 0, nil)else call kRemoveString with (kSlotMeta.viewFont, ["Edit/Casual(3)"]);ArrayMunger(kSlotMeta.viewFont, Length(kSlotMeta.viewFont), 0, [if kBuild20 then 'pickSolidSeparator else 'pickSeparator,{item: "ROM_fontSystem9",			value: "@99,//^0"},	//0x00002400{item: "ROM_fontSystem9Bold",		value:"@100,//^0"},	//0x00102400,{item: "ROM_fontSystem9Underline",	value:"@101,//^0"},	//0x00402400,{item: "ROM_fontSystem10",			value: "@87,//^0"},	//0x00002800{item: "ROM_fontSystem10Bold",		value: "@88,//^0"},	//0x00102800{item: "ROM_fontSystem10Underline",	value: "@89,//^0"},	//0x00402800{item: "ROM_fontSystem12",			value: "@90,//^0"},	//0x00003000{item: "ROM_fontSystem12Bold",		value: "@91,//^0"},	//0x00103000{item: "ROM_fontSystem12Underline",	value: "@92,//^0"},	//0x00403000{item: "ROM_fontSystem14",			value: "@93,//^0"},	//0x00003800{item: "ROM_fontSystem14Bold",		value: "@94,//^0"},	//0x00103800{item: "ROM_fontSystem14Underline",	value: "@95,//^0"},	//0x00403800{item: "ROM_fontSystem18",			value: "@96,//^0"},	//0x00004800{item: "ROM_fontSystem18Bold",		value: "@97,//^0"},	//0x00104800{item: "ROM_fontsystem18Underline",	value: "@98,//^0"},	//0x00404800], 0, nil);/*kSlotHelp.viewFontF := [flags:	// frame version???{item: "Espy", value: 'espy}{item: "Size:",{item: "kFaceNormal:				kFaceNormal,				//0x000kFaceBold:					kFaceBold,					//0x001kFaceItalic:				kFaceItalic,				//0x002kFaceUnderline:				kFaceUnderline,				//0x004kFaceOutline:				kFaceOutline,				//0x008kFaceSuperScript:			kFaceSuperScript,			//0x080kFaceSubScript:				kFaceSubScript,				//0x100ROM_helveticaFont, ROM_symbolFont, ROM_systemFont, ROM_systemPSfont,ROM_systemSymbolFont, ROM_timesromanFont*/